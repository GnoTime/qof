2008-04-18  Neil Williams  <linux@codehelp.co.uk>

	* backend/dwi/dwi-backend.c (dwiend_load_foundation),
	(dwiend_run_query), (dwiend_compile_query), (dwiend_session_begin):
	* backend/dwi/qofmap.c (qof_map_new), (qof_map_destroy),
	(qof_map_add_field), (qof_map_add_match),
	(qof_map_add_version_cmp), (qof_map_copy_multiple_from_db),
	(qof_map_copy_from_db), (qof_map_copy_to_db),
	(qof_map_write_to_db):
	* backend/dwi/qofmap.h: Add doxygen support.
	Standardise on GLib data types like the rest of QOF.
	* doc/doxygen.cfg.in: Add DWI to the Doxygen output.

2008-04-17  Neil Williams  <linux@codehelp.co.uk>

	* README.cvs, README.svn: Add content for debian builds.
	Renamed to reflect change to SVN.
	* configure.ac, backend/Makefile.am: Implement conditional
	support for DWI.
	* backend/dwi/Makefile.am: Correct LIBS handling and remove
	version info to create a normal QOF backend module.
	* backend/dwi/qofmap.c (qof_map_write_to_db), backend/dwi/qofmap.h,
	* backend/dwi/dwi-backend.c (dwiend_compile_query), (dwiend_new):
	Fix typo and bring debugging support into line with QOF >= 0.7

2008-03-25  Neil Williams  <linux@codehelp.co.uk>

 * website/index.html, website/start.html, Makefile.am :
 Add a guide to starting with QOF.

2008-03-20  Neil Williams  <linux@codehelp.co.uk>

	* backend/file/qsf-backend.c: Add include for
	the now private kvputil-p.h header.
	* backend/sqlite/qof-sqlite.c (build_kvp_table),
	(qsql_class_foreach): Switch to qof_sql_object_create_table
	because no entity exists when the tables need to be created.
	Allow more room for indices by using a gulong instead of glong.
	* qof/qof.h: Remove the private header kvputil-p.h
	(public functions already moved to kvputil.h)
	* qof/qofsql.c (string_param_to_sql),
	(qof_sql_entity_insert), (qof_sql_entity_update_kvp): Doxygen
	tweaks.
	qof/qofsql.c (qof_sql_entity_create_table) : Add assertion
	if a NULL entity is passed. Prevent double free by only
	freeing data.str if KVP slots exist.

	* backend/gda/qof-gda.c: (create_tables), (create_data_source),
	(qgda_session_begin), (qgda_class_foreach), (qgda_check_entity),
	(qgda_write_foreach), (qgda_write_db), (qgda_session_end),
	(qgda_destroy_backend), (qgda_backend_new): Add prototype
	data write handlers.

2008-03-19  Neil Williams  <linux@codehelp.co.uk>

	* qof.symbols.in: Add qof_sql_entity_set_kvp_exists
	* qof/qofsql-p.h: New function, qof_sql_entity_set_kvp_exists
	* qof/qofsql.c (create_sql_from_param_cb), (string_param_to_sql),
	(string_param_foreach), (kvpvalue_to_sql_insert),
	(kvpvalue_to_sql_update), (qof_sql_entity_insert),
	(qof_sql_entity_update), (qof_sql_entity_update_kvp),
	(qof_sql_entity_set_kvp_tablename), (qof_sql_entity_set_kvp_id),
	(qof_sql_entity_get_kvp_id), (qof_sql_entity_set_kvp_exists):
	Fixing update mechanisms and separating KVP management into
	new functions so that parameters can be updated individually.
	* qof/test/test-sql.c (test_sql), (main): Adapt to improved
	UPDATE support. Add some randomization.

2008-03-18  Neil Williams  <linux@codehelp.co.uk>

  * backend/gda/qof-gda.c (qgda_modify), (create_tables),
  (create_data_source), (qgda_session_begin), (qgda_session_end),
  (get_config), (qgda_backend_new): Continue migration to SQL
  handling. Drop unused functions.
  * backend/sqlite/qof-sqlite.c (kvpvalue_to_sql), (delete_event),
  (create_event), (qsql_modify), (update_dirty), (qsql_create),
  (check_state), (build_kvp_table), (qsql_class_foreach),
  (qsql_backend_createdb): Remove unused code.
  * qof/qofsql-p.h: Support creating tables from the QofObject
  definition.
  * qof/qofsql.c (string_param_to_sql), (string_param_foreach),
  (qof_sql_object_create_table), (qof_sql_entity_create_table),
  (qof_sql_entity_update), (qof_sql_entity_delete): Add preliminary
  support for KVP storage - not working yet.
  * qof/test/test-sql.c (test_sql): Temporarily disable one test until
  the KVP update code is fixed.

2008-03-17  Neil Williams  <linux@codehelp.co.uk>

 * backend/file/qsf-backend.c (qsf_to_kvp_helper),
  (kvp_value_to_qof_type_helper): Use the new KVP support functions.
 * backend/sqlite/Makefile.am: Build with compiler warnings enabled.
 * backend/sqlite/qof-sqlite.c (kvp_value_to_qof_type_helper),
  (sql_to_kvp_helper), (create_event), (qsql_modify),
  (update_param_foreach), (update_dirty), (qsql_create),
  (check_state), (qsql_class_foreach), (qsql_backend_createdb),
  (qof_sqlite_provider_init): Begin extensive modifications to use common
  functions in all backends, especially sqlite and GDA. Utilise support
  added to qofsql.c
 * qof/Makefile.am: Remove kvputil-p.h from package, migrate existing
  (public) functions to kvputil.h. Add private qofsql-p.h.
 * qof/kvputil-p.h: Add new (private) KVP support especially for backends.
 * qof/kvputil.c (qof_id_to_kvp_value_type),
  (kvp_value_type_to_qof_id): New KVP support for backends.
 * qof/kvputil.h: Include functions from old kvputil-p.h that were already
  public.
 * qof/qofclass.h: Doxygen tweak.
 * qof/qofsql.c (handle_single_condition),
  (qof_sql_entity_set_kvp_tablename), (create_sql_from_param),
  (string_param_to_sql), (string_param_foreach), (create_param_list),
  (kvpvalue_to_sql), (update_param_foreach),
  (qof_sql_entity_create_table), (qof_sql_entity_insert),
  (qof_sql_entity_update), (qof_sql_entity_update_list),
  (qof_sql_entity_delete), (qof_sql_entity_drop_table): Add support for SQL
  backends that need to generate SQL statements from QofEntity data. Currently
  no support for parsing the statements back into QofEntity changes.
 * qof/qofsql-p.h: New header for private SQL conversion routines for backends.
 * qof/test/.cvsignore: Ignore new test executable.
 * qof/test/Makefile.am: Build new test.
 * qof/test/test-sql.c (dyn_create), (dyn_setAmount),
  (dyn_getAmount), (test_dyn_printable), (dyn_objRegister),
  (dyn_foreach), (dyn_foreach2), (test_sql), (main): New test for SQL conversion
  routines.

2008-03-16  Neil Williams  <linux@codehelp.co.uk>

 * backend/gda/qof-gda.c (qoftype_to_gdafield), (build_table),
 (create_data_source), (qgda_session_begin), (qgda_session_end),
 (qgda_destroy_backend), (qgda_backend_new): Enabling creation
 of new GDA data sources and tables.

2008-03-16  Neil Williams  <linux@codehelp.co.uk>

 * Start changes for libqof2
 * Makefile.am : Remove qof-1.pc support.
 * qof.symbols.in : Remove dropped symbols and
 migrate others to LIBQOF_0.8.0 due to SONAME bump.
 * qof/libqof.ver : Migrate to LIBQOF_0.8.0
 * backend/Makefile.am : Drop DWI (no longer compatible)
 * backend/file/Makefile.am, backend/gda/Makefile.am
 backend/sqlite/Makefile.am : Make the backend modules
 private libraries (i.e. plugins).
 * backend/file/qsf-backend.c,
 backend/sqlite/qof-sqlite.c, qof/qof.h, qof/qofbackend-p.h,
 qof/kvpframe.c, qof/kvpframe.h, qof/qofbackend.c
 qof/qofbookmerge.c, qof/qofbookmerge.h, qof/qofclass.c,
 qof/qoferror-p.h, qof/qoferror.c, qof/qofevent.c,
 qof/qofevent-p.h, qof/qofinstance-p.h, qof/qofnumeric.c,
 qof/qofobject.h, qof/qofquery-p.h, qof/qofquery.c,
 qof/qofquerycore.c, qof/qofsession.c, qof/qofsql.c,
 qof/qoftime.h, qof/qofundo.c, qof/qofutil.c,
 qof/qofutil.h : Remove deprecated code.
 * doc/doxygen_main_page.c : Drop description of removed
 code.
 * po/POTFILES.in, po/POTFILES.skip : Drop DWI, add GDA.
 * qof/Makefile.am : Remove deprecated.c until needed again.
 * qof/deprecated.c, qof/deprecated.h : Remove all deprecated code.
 * qof/test/test-book-merge.c, qof/test/test-date.c,
 qof/test/test-engine-stuff.c,
 qof/test/test-engine-stuff.h : migrate from deprecated code.

2008-03-04  Neil Williams  <linux@codehelp.co.uk>

 * autogen.sh : Migrate to autoreconf -ifs instead
 of calling individual tools
 * Makefile.am : Drop m4/ChangeLog
 * qof/Makefile.am : Take advantage of the lack of
 an updated libgda3-3 in Debian to fix a problem in
 make distcheck when gda is not in use - look for
 libqofsql in top_builddir, not top_srcdir. Oops.

2008-01-31  Neil Williams  <linux@codehelp.co.uk>

 * configure.in : 0.7.5 release to expand symbol
   versioning support to any -gnu platform.

2008-01-29  Neil Williams  <linux@codehelp.co.uk>

 * configure.in : 0.7.4 release.
 * NEWS, README : Document provision of qof.pc in advance
 of libqof2 to ease transition - packages can now check for
 qof via pkg-config and still build against libqof2 when
 qof-1.pc is removed.

2008-01-21  Neil Williams  <linux@codehelp.co.uk>

	* backend/gda/qof-gda.c: (qgda_session_begin),
	(qof_gda_provider_init): Test home_dir before trying to
       make gda directory.
	* backend/sqlite/qof-sqlite.c: Migrate module name into
       main library.
	* qof/qof.h: Add backend log modules to main library
	* qof/qoflog.c: (qof_log_set_default): Log backend modules
      by default.
	* qof/qofsession.c: Enable the GDA backend upon request.

2008-01-14  Neil Williams  <linux@codehelp.co.uk>

	* NEWS: release update.
	* README: release update.
	* debian/rules: omit docs in Emdebian.
	* qof/qofclass.h: Explain about registering dynamic objects.
	* qof/test/test-object.c: (test_dyn_printable), (dyn_create),
	(dynamic_get_string), (dynamic_get_int), (dynamic_get_boolean),
	(add_boolean_param), (test_boolean_param), (test_class_register),
	(test_dynamic_object), (main): Test dynamic object support.
	* website/hacking.html: 0.7.4 updates
	* website/index.html: pre-release updates.

2008-01-11  Neil Williams  <linux@codehelp.co.uk>

	* .cvsignore: Ignore the built symbols file.
	* configure.in: Generate the symbols file for
      libqof1. Test for versioned symbol support and
      use --version-script.
	* debian/libqof-backend-qsf0.symbols: Temporary
      symbols file alongside generated libqof1 symbols.
	* debian/libqof-backend-sqlite0.symbols: Temporary
      symbols file alongside generated libqof1 symbols.
	* debian/rules: Copy the generated symbols file into
      debian directory.
	* qof.symbols.in: Static list of symbols for
      pre-processing.
	* qof/libqof.ver: Implement symbol versioning alongside
      the symbols file.
    * Prepare 0.7.4.

2008-01-02  Neil Williams  <linux@codehelp.co.uk>

 * configure.in,
 qof/Makefile.am,
 qof/libqof.ver : Implement baseline symbol
 versioning support, prior to libqof2.

2007-12-24  Neil Williams  <linux@codehelp.co.uk>

	* configure.in,
	backend/gda/Makefile.am,
	backend/gda/qof-gda.c,
	backend/gda/qof-gda.h : Migrate prototype GDA backend
	to libgda3-3 - not working yet.

2007-12-23  Neil Williams  <linux@codehelp.co.uk>

	* qof/qofquery.c: (qof_query_init): Ensure that
	qof_date_init is called even if only queries are
	initialised. Fix for Gnotime.
	* configure.in : Allow gdabackend but not as a default.
	* qof.pc.in : New pkgconfig file for libqof2.
	* backend/Makefile.am,
	backend/gda/Makefile.am,
	backend/gda/qof-gda.c,
	backend/gda/qof-gda.h : Begin the transition to
	libgda3-3.

2007-12-15  Neil Williams  <linux@codehelp.co.uk>

	* configure.in : Remove need for perl. Add the
	--disable-gdasql configure option and tie it into
	--enable-embedded.
	* lib/libsql/Makefile.am : Ensure libqofsql is linked
	against libglib2.0-0
	* qof/Makefile.am,
	qof/test/Makefile.am : Rationalise the SQL_PKG_LIB
	support in libqof1 and the test suite.
	* website/hacking.html : Update hacking advice for
	0.7.3 changes.

2007-12-13  Neil Williams  <linux@codehelp.co.uk>

	* backend/sqlite/qof-sqlite.c: (qsql_load_kvp): Create the
	new sqlite_kvp table if not already present.

2007-12-10  Neil Williams  <linux@codehelp.co.uk>

	* Makefile.am: Build library before backends.
	* TODO: Notes on linking issues.
	* backend/file/Makefile.am: Link the built qof library
	* backend/sqlite/Makefile.am: Link the built qof library
	  and the built qofsql library.
	* backend/sqlite/qof-sqlite.c: Note presence of a bug
	  (unfixed). Sqlite-kvp table is not being created.
	* configure.in: Migrate to libgda3-3.
	* qof-1.pc.in: Remove Requires.private as libxml2 is
	  no longer needed, even for static. The XML backend
	  is a GModule.
	* qof/Makefile.am: Prune the linkages and use libgdasql-3.0
	  instead of the entire libgda3-3.
	* qof/qofsql.c: New header location for libgda3-3.
	* qof/test/Makefile.am: Prune linkages.

2007-11-15  Neil Williams  <linux@codehelp.co.uk>

	* HACKING,
	configure.in,
	Makefile.am,
	autogen.sh : Remove intltool and glib-gettextize
	in favour of plain gettext.

2007-11-15  gettextize  <bug-gnu-gettext@gnu.org>

	* Makefile.am (ACLOCAL_AMFLAGS): New variable.
	(EXTRA_DIST): Add config.rpath, m4/ChangeLog.

2007-11-15  Neil Williams  <linux@codehelp.co.uk>

	* configure.in : Make the sqlite backend build
	by default. Tidy up the embedded option to drop
	libgda and use internal SQL parsing.

2007-09-19  Neil Williams  <linux@codehelp.co.uk>

	* backend/sqlite/qof-sqlite.c:
	(delete_event): Improve debug message to show the status of the instance.
	(kvpvalue_to_sql), qsql_create): Avoid trying to create a kvp record
	for an empty frame.
	* qof/qofevent.c: (qof_event_generate_internal): Improve debug
	messages to show the entity type affected by the event.

2007-09-17  Neil Williams  <linux@codehelp.co.uk>

	* backend/sqlite/qof-sqlite.c:
	(kvp_value_to_qof_type_helper), (sql_to_kvp_helper),
	(string_to_kvp_value), (kvpvalue_to_sql), (build_kvp_table),
	(qsql_load_kvp) : New functions to support KVP

	(string_param_to_sql), (create_param_list), (create_each_param),
	(delete_event), (create_event), (qsql_modify), (record_foreach),
	(string_param_foreach), (update_param_foreach), (update_dirty),
	(create_dirty_list), (mark_entity), (qsql_create), (check_state),
	(qsql_class_foreach), (qsql_backend_createdb), (qsql_backend_opendb),
	(qsqlite_session_begin), (qsqlite_db_load), (qsqlite_write_db),
	(qsql_determine_file_type), (qsqlite_session_end),
	(qsqlite_destroy_backend), (qsql_provider_free),
	(qsql_backend_new), (qof_sqlite_provider_init): KVP support and indent
	/ whitespace fixes.
	* backend/sqlite/qof-sqlite.h: KVP support.
	* qof/deprecated.c: (qof_commit_edit_part2): whitespace tweaks.

2007-09-16  Neil Williams  <linux@codehelp.co.uk>

	* backend/sqlite/qof-sqlite.c: (delete_event), (create_event),
	(qsql_modify), (update_dirty), (create_dirty_list), (mark_entity),
	(qsql_class_foreach), (qsql_backend_createdb), (qsql_create) :
	Debug message tweaks - most to be removed before release.
	(check_state) : Pass the GUID string to SQLite.

2007-09-15  Neil Williams  <linux@codehelp.co.uk>

	* backend/file/qsf-backend.c: (qsf_provider_init),
	* backend/gda/qof-gda.c: (qof_gda_provider_init):
	Expose translatable strings via bindtextdomain for qof.
	* backend/sqlite/qof-sqlite.c:
	(add_to_sql) : Improve memory efficiency when preparing	the SQL strings.
	(qsql_kvpvalue_to_sql): Prepare for KVP support (incomplete).
	(qsql_param_to_sql): Support entity GUID and reference GUID - incomplete.
	(create_param_list), (create_each_param) : use the new add_to_sql function.
	(delete_event) : Ensure an entity of registered with QofClass before
	trying to delete it. Collapse SQL generation into a single command.
	(create_event) : Ensure an entity of registered with QofClass before
	trying to create it. Improve memory handling when generating the SQL
	CREATE string.
	(qsql_modify): Collapse SQL generation into a single command.
	(qsql_record_foreach):  skip empty values (no param_setfcn)
	(qsql_param_foreach), (update_param_foreach) : Use the new add_to_sql
	function.
	(update_dirty), (create_dirty_list), (check_state) : Remove the static
	buffer and allocate the GUID buffer dynamically.
	(qsql_create), (qsql_class_foreach) : Use the new add_to_sql function.
	(qsql_backend_createdb) : Create a KVP table in any new file
	(qsql_backend_opendb), (qsqlite_session_begin) : whitespace tweaks.
	(qsqlite_db_load) : Mark up possible KVP support.
	(qsql_backend_new), (qof_sqlite_provider_init) : whitespace tweaks and
	ensure bindtextdomain is called.
	* backend/sqlite/qof-sqlite.h: Documentation tweak.
	* qof/deprecated.c: (qof_commit_edit_part2): Check the backend supports
	commit.
	* qof/deprecated.h: (QOF_COMMIT_EDIT_PART2): Use the same definition as
	before deprecation.
	* qof/qofutil.c: (qof_util_param_to_string): Require sensible arguments.

2007-08-09  Neil Williams <linux@codehelp.co.uk>

	* configure.ac : Remove ALL_LINGUAS in preference
	for po/LINGUAS to remove the need to edit
	configure.ac for translation additions.
	* po/LINGUAS : new file.

2007-07-03  Neil Williams <linux@codehelp.co.uk>

	* backend/sqlite/qof-sqlite.c : Prevent be->begin
	operating *during* the loading of a sqlite database.
	* qof/deprecated.c,
	qof/deprecated.h : Migrate edit and commit macros and
	functions to parameter edit and parameter commit. Advise
	in docs that this increases backend workload considerably
	so users need to refactor before libqof2.

2007-06-30  Neil Williams <linux@codehelp.co.uk>

	* backend/sqlite/qof-sqlite.c : Ensure the current
	QofParam is always available to the SQLite backend.
	* Bump to 0.7.3
	* Fix POTFILES.skip

2007-05-21  Neil Williams <linux@codehelp.co.uk>

	* qof/qof-util.h,
	qof/qof-util.c : Port qof UTF8 conversion from
	qof-main to qof-util, rename qof_util_make_utf8.

2007-02-22  Neil Williams <linux@codehelp.co.uk>

	* Makefile.am : prevent code churn in the
	translation files.
	* qof/qoferror.c : fix QofError handling
	to ensure filenames are used when requested
	and missing values are handled without a crash.

2006-12-26  Neil Williams <linux@codehelp.co.uk>

	* backend/sqlite/qof-sqlite.c : Don't try to
	update backend data unless it has actually
	changed.
	* backend/file/qsf-backend.c : In case of a stat
	error, see if we can't create a file at that path.
	QSF is meant to accept beginning or ending a QofSession
	with an empty file.

2006-11-30  Neil Williams <linux@codehelp.co.uk>

	* qof/deprecated.c : Remove struct tm.tm_gmtoff
	define and wrapper - tm_gmtoff is required for
	QofTime.
	* configure.in : Remove struct tm.tm_gmtoff detection
	macro which complicates cross-compilation.

2006-11-27  Neil Williams <linux@codehelp.co.uk>

	* Makefile.am : package the .pot file directly.
	TP is simply too slow.
	* emdebian/ : "emdebian method changed -
	remove control files.
	* qof/deprecated.h,
	qof/deprecated.c : Fix compatibility issue.
	Replace QofErrorId with original QofBackendError
	in the deprecated support code.


2006-10-29  Neil Williams <linux@codehelp.co.uk>

	* configure.in,
	doc/Makefile.am : Allow doxygen to be
	disabled correctly.

2006-10-15  Neil Williams <linux@codehelp.co.uk>

	* qof/qofutil.c : Set the current parameter
	before asking the backend to commit that
	parameter value.

2006-10-10  Neil Williams <linux@codehelp.co.uk>

	* autogen.sh : Remove maintainer mode.
	* configure.in : Remove maintainer mode,
	fix gettext problem in familiar build.

	* backend/file/qsf-xml.c : Prevent seg.
	fault if object count is missing.

2006-10-09  Neil Williams <linux@codehelp.co.uk>

	* qof/qoftime.h : Add <time.h> to solve
	problem on familiar build.
	* qof/qoftime.c : Replace g_date_set_timeval
	which is not available in glib2-0 2.6.
	* qof/deprecated.c : Regress deprecated
	qof_is_same_day back to original version to
	allow builds against glib-2.0 2.6.

2006-10-02  Neil Williams <linux@codehelp.co.uk>

	* configure.in,
	doc/Makefile.am : Ensure Doxygen build
	can be disabled correctly.
	* lib/libsql/Makefile.am : Remove useless
	INCLUDES instruction that complicates
	the embedded build.

2006-09-30  Neil Williams <linux@codehelp.co.uk>

	* configure.in : Support new Brazilian
	Portuguese and Indonesian translations.

2006-09-21  Neil Williams <linux@codehelp.co.uk>

	* backend/sqlite/qof-sqlite.c : Check path is
	writeable before trying to create a database.
	* qof/qoferror.c,
	 qof/qofsession-p.h : Use the session error Id
	and message strings for times that no backend
	is available.
	* qof/qofsession.c : Improve error string.

	* po/en_GB.po : New string for permission error.

2006-09-21  Neil Williams <linux@codehelp.co.uk>

	* backend/sqlite/qof-sqlite.c : Fix input_session XML
	to export_session SQLITE failure by ensuring
	entities are created in the backend at the same
	time as the book.

2006-09-19  Neil Williams <linux@codehelp.co.uk>

	* backend/sqlite/qof-sqlite.c : Fix update
	mode, avoid "database is locked" from sqlite
	by separating SELECT from UPDATE/INSERT.

2006-09-17  Neil Williams <linux@codehelp.co.uk>

	* backend/file/qsf-backend.c,
	qof/deprecated.h,
	qof/kvpframe.c,
	qof/kvpframe.h,
	qof/kvputil-p.h,
	qof/kvputil.c,
	qof/kvputil.h,
	qof/qofbackend.c,
	qof/qofsql.c : Beginning the update of KVP
	and addition of KVP_TYPE_BOOLEAN.

	* qof/qofutil.c,
	qof/qofutil.h,
	qof/deprecated.c,
	qof/deprecated.h : move qof_util_double_compare
	from kvp (deprecate old name double_compare).

2006-09-14  Neil Williams <linux@codehelp.co.uk>

	* qof/qofinstance.h,
	qof/qof.h,
	qof/qofbook.h,
	qof/qofquerycore.h,
	qof/kvputil-p.h,
	qof/qofsql.h,
	qof/Makefile.am,
	qof/qofinstance.c,
	qof/kvpframe.c,
	qof/qofbook-p.h	: Fixing kvp filenames.

2006-09-13  Neil Williams <linux@codehelp.co.uk>

	* configure.in,
	NEWS,
	doc/doxygen.cfg.in,
	make-potfiles.in,
	backend/Makefile.am,
	backend/README,
	website/index.html,
	website/hacking.html : Explaining decision to stall
	the libqof-backend-gda0 module until such time as
	libgda supports creating tables in new or existing
	data sources.

2006-09-13  Neil Williams <linux@codehelp.co.uk>

	* configure.in,
	backend/Makefile.am,
	backend/sqlite/Makefile.am : Fix detection
	of sqlite and backend selection options.

	* backend/file/qsf-backend.c : Avoid closing
	a test file if open failed.

	* doc/Makefile.am : Ensure doxy symlink is
	cleaned up.

	* po/en_GB.po : New strings.

	* qof/kvp-util.c : Tweak.
	* qof/qofbookmerge.c : Tweak.

	* qof/qoferror.c : Clarify variable names.
	Improve handling of errors from deprecated
	code.

	* qof/qofsession.c : Improve error handling
	using QofError. Add libgda backend to provider
	list.

	* backend/sqlite/qof-sqlite.c : Implement
	QofError handling.
	* qof/qoferror.c,
	qof/qoferror.h : Support unregistering errors
	manually.
	* qof/qoflog.c : Support logging of the error
	module.

2006-09-12  Neil Williams <linux@codehelp.co.uk>

	* debian/changelog : fix priority setting for
	the new backend packages.

	* backend/Makefile.am,
	backend/dwi/README,
	po/POTFILES.skip : only distribute DWI, don't
	try to build it anymore.

	* backend/gda/qof-gda.c,
	backend/gda/qof-gda.h : improve gda backend
	with error handling and data sources. Correct
	gettext setup. Move to QofError.

	* backend/sqlite/qof-sqlite.c : Implement gettext
	handling via dgettext.

	* qof/qof.h,
	qof/qoferror-p.h,
	qof/qoferror.c,
	qof/qoferror.h,
	qof/Makefile.am	: New Error handler files.

	* backend/file/qsf-backend.c,
	backend/file/qsf-xml-map.c : Beginning move to QofError.

	* backend/file/qsf-backend.c,
	backend/file/qsf-xml-map.c,
	backend/file/qsf-xml.c,
	backend/file/qsf-xml.h : Fixing struct name conventions,
	completely use of QofError.

	* qof/deprecated.c,
	qof/deprecated.h : Deprecating backend and session error
	handlers in favour of QofError.

	* qof/qofbackend-p.h,
	qof/qofbackend.c,
	qof/qofbackend.h,
	qof/qofsession-p.h,
	qof/qofsession.c,
	qof/qofsession.h : Removing deprecated code.

	* qof/qofutil.c,
	qof/qofutil.h : Start and close QofError by default.

	* po/en_GB.po : New strings added.

2006-09-09  Neil Williams <linux@codehelp.co.uk>

	* configure.in : Support for gda backend.
	* backend/Makefile.am : Build GDA only when
	libgda2 is available.
	* backend/gda/.cvsignore : new file.
	* backend/gda/Makefile.am : new file.
	* backend/gda/qof-gda.c : Outline.
	* backend/gda/qof-gda.h : Outline.
	* doc/doxygen.cfg.in : Include GDA in libqof-doc.

	* backend/sqlite/qof-sqlite.c,
	backend/sqlite/qof-sqlite.h : unregister
	handlers and tidy up g_free use.

2006-08-31  Neil Williams <linux@codehelp.co.uk>

	* backend/file/qsf-backend.c : Ensure a book
	is marked clean after a save.
	* backend/sqlite/qof-sqlite.c : Fix sync method
	to insert new data and update old.
	* qof/qofsession.c : Tweak debug messages.
	* qof/qofutil.c : Decrement editlevel on commit.

2006-08-29  Neil Williams <linux@codehelp.co.uk>

	* qof/qofbackend.c : Log module errors instead of
	bothering the user on stderr.
	* qof/qofsession.c : Add the sqlite module
	backend so it can be loaded when available.
	* website/hacking.html :

	* backend/file/qsf-backend.c : Make sure the
	book_path is available to error handlers.

	* qof/qofsession.h : Adjust Doxygen layout.

	* backend/sqlite/qof-sqlite.c : Fix handling
	of multiple tables. Implement sync: method to
	support conversion from other data sources.

	* debian/changelog,
	debian/control,
	debian/libqof-backend-qsf0.install,
	debian/libqof-backend-sqlite0.install,
	debian/libqof-dev.install,
	debian/libqof1.install,
	debian/rules,
	debian/linda/overrides/libqof-backend-qsf0,
	debian/linda/overrides/libqof-backend-sqlite0 :
	New Debian packaging for two new packages.

	* debian/linda/overrides/libqof1 : Removed.

	* emdebian/changelog,
	emdebian/control,
	emdebian/libqof-backend-sqlite0.install,
	emdebian/libqof-dev.install,
	emdebian/libqof1.install,
	emdebian/rules : New emdebian packaging that
	is independent of libxml2 (when compiled without
	libgda installed).

	* configure.in,
	backend/Makefile.am : Reverse previous change to
	always build qsqlite and omit qsf if embedded
	enabled. Host machines build both.
	* backend/sqlite/Makefile.am : Build qsqlite
	as a shared module, not a package library.
	* backend/sqlite/qof-sqlite.c : Support building
	without deprecated code.

	* debian/changelog,
	debian/control,
	debian/libqof-dev.install : Prepare for release.

	* doc/doxygen.cfg.in : Enable qsqlite in doxygen.
	* doc/gnc-numeric-example.txt : Update example
	to QofNumeric.

	* po/en_GB.po,
	po/ro.po,
	po/sv.po,
	po/vi.po : Updated translation string locations.

	* qof/deprecated.h : Documenting each new
	deprecated function, macro and data structure.

	* Various .h files : Reorganise Doxygen module
	layout to clarify library purposes.

	* website/index.html : New release.

2006-08-25  Neil Williams <linux@codehelp.co.uk>

	* various :
	Build without deprecated QOF code.

	* backend/sqlite : New directory for
	QSQLite backend that *REPLACES* QSF XML
	for embedded systems. Host systems will get
	comprehensive support for SQLite and other
	database managers with gnome-db later.

2006-08-24  Neil Williams <linux@codehelp.co.uk>

	* qof/gnc-numeric.c,
	qof/gnc-numeric.h : Renamed.

	* qof/qofnumeric.c,
	qof/qofnumeric.h : New names.

	* qof/Makefile.am,
	qof/deprecated.c,
	qof/deprecated.h,
	qof/kvp_frame.h,
	qof/qof.h,
	qof/qofmath128.c,
	qof/qofmath128.h,
	qof/qofquerycore.h,
	qof/test/test-book-merge.c,
	qof/test/test-numeric.c : Phase 1 of replacing
	gnc-numeric with QofNumeric.

2006-08-21  Neil Williams <linux@codehelp.co.uk>

	*  qof/qofdate.c,
	qof/qofstrftime.c :  Protect against timezone
	errors.
	* qof/qoftime.c : Re-implement qof_time_to_gdate,
	qof_time_from_gdate and qof_time_set_day_start
	to avoid using GDate.

2006-08-21  Neil Williams <linux@codehelp.co.uk>

	* qof/deprecated.h,
	qof/deprecated.c : Deprecate qof_begin_edit,
	qof_commit_edit and MACRO versions in favour of
	parameter based edit and commit to make undo and
	SQL backends simpler.
	* qof/qofbackend.c : Omit deprecated members of
	QofBackend.
	* qof/qofinstance-p.h : Track the current parameter
	within the instance.
	* qof/qofutil.h :
	* qof/qofutil.c : Deprecate old edit functions and
	insert new ones that handle parameter based edits and
	undo handling internally.

2006-08-15  Neil Williams <linux@codehelp.co.uk>

	* configure.in : Enable extra compiler checks.

2006-08-14  Neil Williams <linux@codehelp.co.uk>

	* qof/test/test-book-merge.c :
	* qof/test/test-date.c :
	* qof/test/test-event.c :
	* qof/test/test-guid.c :
	* qof/test/test-numeric.c :
	* qof/test/test-object.c :
	* qof/test/test-querynew.c :
	* qof/test/test-recursive.c : Remove obsolete
	struct initialisers.

2006-08-13  Neil Williams <linux@codehelp.co.uk>

	* configure.in : Enable -Wextra under
	--enable-compiler-warnings.

	Implement -Wextra. File list:
	* backend/file/qsf-backend.c :
	* backend/file/qsf-xml-map.c :
	* backend/file/qsf-xml.c :
	* backend/file/qsf-xml.h :
	* debian/changelog :
	* qof/deprecated.c :
	* qof/kvp-util.c :
	* qof/kvp_frame.c :
	* qof/qofbook.c :
	* qof/qofbookmerge.c :
	* qof/qofclass.c :
	* qof/qofdate.c :
	* qof/qofgobj.c :
	* qof/qofid.c :
	* qof/qoflog.c :
	* qof/qoflog.h :
	* qof/qofmath128.c :
	* qof/qofobject.c :
	* qof/qofquery.c :
	* qof/qofquerycore.c :
	* qof/qofsession.c :
	* qof/qofsql.c :
	* qof/test/test-book-merge.c :
	* qof/test/test-date.c :
	* qof/test/test-event.c :
	* qof/test/test-guid.c :
	* qof/test/test-numeric.c :
	* qof/test/test-object.c :
	* qof/test/test-querynew.c :
	* qof/test/test-recursive.c :

2006-07-26  Neil Williams <linux@codehelp.co.uk>

	* po/vi.po : Updated Vietnamese translation by
	Clytie Siddall.
	* po/ro.po : New Romanian translation by
	Laurentiu Buzdugan.

2006-07-24  Neil Williams <linux@codehelp.co.uk>

	* qof/qofquerycore.c : Fix --disable-deprecated-qof
	build.
	* website/hacking.html :
	* NEWS :
	* HACKING : Prepare for 0.7.0 release.

2006-07-23  Neil Williams <linux@codehelp.co.uk>

	* qof/qofdate.c : Fix qof_date_from_struct_tm
	and qof_date_to_struct_tm. Remove duplicate debug
	log command.
	* qof/qof/qofstrptime.c,
	qof/qof/qofdate-p.h :
	ERR_RECURSIVE_F is not an error, remove.
	* qof/qofquery.c : Prevent typos by using the qofutil
	enum to string macro.

	* qof/deprecated.c : Tidy up, remove old comments.
	* qof/deprecated.h : Clarifying change from query_date_t
	to query_time_t.
	* qof/qofbookmerge.c : Fix known_types handling for
	QofTime merge. Fix QofTime get and set routines.
	* qof/qofdate.c : Move to revised prototype of
	qof_time_add_secs.
	* qof/qofquery.c : debug tweak.
	* qof/qofquery.h : Doxygen tweaks.
	* qof/qofquerycore-p.h : Move from query_date_t to
	query_time_t.
	* qof/qofquerycore.c : Reinstate old deprecated code
	for QOF_TYPE_DATE handling.

	* qof/qoftime.h :
	* qof/qoftime.c : Review qof_time_add_secs and implement
	new functions, qof_time_add_secs_copy and qof_time_copy.

	* qof/test/test-book-merge.c : Implement QofTime in book
	merge tests.
	* qof/test/test-date.c : Test revised prototype of
	qof_time_add_secs.


2006-07-18  Neil Williams <linux@codehelp.co.uk>

	* backend/file/qsf-backend.c :
	* backend/file/qsf-xml.c :
	* qof/qofbackend.c :
	* qof/qofbookmerge.c :
	* qof/qofdate.c : Memory fixes.

2006-07-16  Neil Williams <linux@codehelp.co.uk>

	* qof/test/test-book-merge.c :
	 qof/test/test-event.c
	 qof/test/test-guid.c
	 qof/test/test-numeric.c
	 qof/test/test-object.c
	 qof/test/test-querynew.c : Ensure tests fail
	reliably.

	* qof/deprecated.c : Use the old gnc-date version
	as deprecated for those who depend on the bugs.
	* qof/qofchoice.c : tweak to remove newline from
	debug logs
	* qof/qofundo.c : Problems with clear_undo -
	temporary fix.
	* qof/qofdate.h : Doxygen tweak.

	* qof/qofsession.c : Added missing QofTime handler
	for copying between sessions.

	* backend/file/qsf-backend.c : Fix missing (node)
	value from routine to retrieve time string.

2006-07-15  Neil Williams <linux@codehelp.co.uk>

	* qof/qofevent.h : new QOF_EVENT_COMMIT event to
	use alongside QOF_EVENT_MODIFY to handle before
	and after edit undo operations.
	* qof/qoflog.c : adding undo the default log modules.
	* qof/qofundo-p.h
	 qof/qofundo.c
	 qof/qofundo.h : Adding public functions to mark
	 entity changes for undo operations.

2006-07-14  Neil Williams <linux@codehelp.co.uk>

	* backend/file/qsf-object.xsd.xml : Add time
	type to the qsf schema.

	* qof/qofinstance.c : Set a valid time when creating
	a new instance.
	* qof/qoftime.c : Upgrade qof_time_from_tm to
	not use GDate.
	* qof/qofdate.h :
	* qof/qofdate.c : Change prototype of
	qof_date_format_add to return the first available
	identifier, not assume the user knows this value in
	advance.
	* qof/test/test-date.c : Use new qof_date_format_add
	prototype.
	* po/en_GB.po : Added new strings for date to time
	transition handling option.

2006-07-13  Neil Williams <linux@codehelp.co.uk>

	* qof/qofdate.c : Fix date normalising.
	* qof/qofdate.h : Expand QofDate so that
	non-calculated values can be used to manipulate
	the QofDate within a wider range - glong.
	* qof/qofstrptime.c : Expand year recognition to
	nine significant digits, allowing parsing of years
	upto 999,999,999AD.
	* qof/test/test-date.c : New tests.

2006-07-12  Neil Williams <linux@codehelp.co.uk>

	* qof/qofdate.c : Adding back QOF_DATE_FORMAT_ISO8601
	* qof/qofdate.h : Adding back QOF_DATE_FORMAT_ISO8601
	* qof/qofstrftime.c : Supporting nanoseconds.
	* qof/qofstrptime.c : Supporting nanoseconds.
	* qof/qoftime.c : Correcting nanosecond handling.
	* qof/test/test-date.c : Adding nanosecond tests.
	* qof/test/.cvsignore : Ignore debug file.
	(only created in CVS builds).

2006-07-11  Neil Williams <linux@codehelp.co.uk>

	* HACKING : Update for QOF_TYPE_DATE changes.
	* README :  Update for QOF_TYPE_DATE changes.
	* debian/changelog : Update for QOF_TYPE_DATE
	changes.
	* qof/deprecated.c : Deprecating QOF_TYPE_DATE
	handlers and current_session handlers.
	* qof/deprecated.h : Deprecating QOF_TYPE_DATE
	handlers and current_session handlers.
	* qof/qofsession.c : Deprecate current_session
	handlers.
	* qof/qofsession.h : Deprecate current_session
	handlers.
	* website/hacking.html : Update for
	QOF_TYPE_DATE changes.

	Implement QOF_TYPE_TIME in the Query system.
	* qof/qofquery-p.h :
	* qof/qofquery.c :
	* qof/qofquery.h :
	* qof/qofquerycore-p.h :
	* qof/qofquerycore.c :
	* qof/qofquerycore.h :
	* qof/qofsql.c :
	* qof/qofsql.h :
	* qof/qofundo.c :
	* qof/qofundo.h :

	* qof/qofutil.c : Deprecate gnc_strisnum
	in favour of qof_util_string_isnum.
	Implement QOF_TYPE_TIME in qof_util_param_as_string
	* qof/qofutil.h : Deprecate gnc_strisnum
	in favour of qof_util_string_isnum.
	Implement QOF_TYPE_TIME in qof_util_param_as_string

	Implement a configure option to disable all
	deprecated QOF code.
	* configure.in : Add --disable-deprecated-qof
	(off by default)
	* backend/file/qsf-backend.c :
	* qof/kvp_frame.h :
	* qof/kvp-util.c :
	* qof/kvp-util-p.h :
	* qof/qofinstance.c :
	* qof/qofquery.c :
	* qof/qofquery-p.h :
	* qof/qofsession.c :
	* qof/qofsql.c :
	* qof/qofutil.c :
	* qof/qofinstance-p.h :
	* qof/test/test-book-merge.c : Update to avoid deprecated
	code.
	* qof/test/test-engine-stuff.h : Skip timespec code if
	deprecated code disabled.
	* qof/test/test-engine-stuff.c :
	* qof/test/test-object.c :
	* qof/test/test-recursive.c :
	* qof/test/test-event.c :

2006-07-10  Neil Williams <linux@codehelp.co.uk>

	* qof/deprecated.c : Retain previous behaviour
	if deprecated Timespec is set directly.
	Deprecating clock timing functions.
	* qof/deprecated.h : Deprecating clock timing
	functions.
	* qof/qofchoice.c :
	* qof/qofchoice.h : minor char->gchar tweaks

	Beginning transition from Timespec to QofTime.
	* qof/kvp-util-p.h :
	* qof/kvp-util.c :
	* qof/qofbackend-p.h :
	* qof/qofbackend.c :
	* qof/qofbackend.h :
	* qof/qofbook.c :
	* qof/qofbook.h :
	* qof/qofbookmerge.c :
	* qof/qofbookmerge.h :
	* qof/qofclass.c :
	* qof/qofclass.h :
	* qof/qofgobj.c :
	* qof/qofid-p.h :
	* qof/qofid.c :
	* qof/qofid.h :
	* qof/qofinstance-p.h :
	* qof/qofinstance.c :


2006-07-09  Neil Williams <linux@codehelp.co.uk>

	* backend/file/qsf-xml.h : Doxygen tweak.
	* backend/file/qsf-backend.c : Move from Timespec
	to QofTime and QofDate.
	* qof/deprecated.c : Ensure QofDate is valid and
	add some logging calls. Revert QOF_D_T_FMT and
	QOF_T_FMT to old values (to retain deprecated
	behaviour). Deprecate Timespec within KVP.
	* qof/deprecated.h : Deprecate Timespec within KVP.
	* qof/kvp_frame.c : Implement QofTime handlers.
	* qof/kvp_frame.h : Replace Timespec with QofTime.
	* qof/kvp-util.c : Handle KVP_TYPE_TIME
	* qof/qofbackend.c : Handle KVP_TYPE_TIME
	* qof/qofsql.c : Skip KVP_TYPE_TIME
	* qof/qofdate.c :  Revert default value of
	dateFormat to gnc-date value (to retain deprecated
	behaviour). Add qof_date_get_current
	* qof/qofdate.h : Add qof_date_get_current
	* qof/qofstrptime.c : Fix YEAR_BASE error in %y.

2006-06-26 Neil Williams  <linux@codehelp.co.uk>

	* qof/qofdate.c,
	qof/qofdate.h,
	qof/test/test-date.c : Use const pointers where
	possible and make date validation more consistent.

2006-06-25 Neil Williams  <linux@codehelp.co.uk>

	* qof/deprecated.c,
	qof/qofdate.c,
	qof/qofdate.h,
	qof/qofstrftime.c,
	qof/qoftime.c,
	qof/qoftime.h,
	qof/test/test-date.c : Rationalise addmonths
	and adddays and fix deprecated and test code.
	Simplify day_end, day_start and day_middle.
	Implement and test qof_date_from_qtime and
	qof_date_to_qtime. Add a few more tests - 1550.

2006-06-24 Neil Williams <linux@codehelp.co.uk>

	* qof/qofdate-p.h,
	qof/qofdate.c,
	qof/qofdate.h,
	qof/qofstrptime.c,
	qof/test/test-date.c : Standardise yday and wday handling
	and add tests for yday and wday.

2006-06-22 Neil Williams <linux@codehelp.co.uk>

	* qof/qofdate.c,
	qof/qofstrptime.c,
	qof/test/test-date.c : Implement more tests and
	allow partial testing of BC dates. BC dates are very
	difficult to parse because a minus sign is also a valid
	date separator. BC can be handled directly and printed,
	some restrictions are inevitable to parse BC date strings.

2006-06-22 Neil Williams <linux@codehelp.co.uk>

	* qof/qofdate.c,
	qof/test/test-date.c : Fixing a few more tests.

2006-06-20 Neil Williams <linux@codehelp.co.uk>

	* qof/test/test-date.c : Comment out failing
	tests during further work on qoftime and qofdate.

2006-05-31 Neil Williams <linux@codehelp.co.uk>

	* configure.in,
	qof/Makefile.am,
	qof/deprecated.c,
	qof/qofdate.c,
	qof/qofdate.h,
	qof/qofstrftime.c,
	qof/qofstrftime.h,
	qof/qofstrptime.c,
	qof/qofstrptime.h,
	qof/qoftime.c,
	qof/qoftime.h,
	qof/test/Makefile.am,
	qof/test/test-date.c: Moving lib/libtime code
	into main library.

2006-05-31 Neil Williams <linux@codehelp.co.uk>

	* qof/deprecated.c,
	qof/deprecated.h : Fixing missing symbols.

2006-05-31 Neil Williams <linux@codehelp.co.uk>

	* lib/libtime/Makefile.am : New files added.
	* lib/libtime/qofgmtime.c : Ensure qof_date_from_qtime
	returns a valid date, or NULL
	* lib/libtime/qofstrftime.c : Tweak.
	* lib/libtime/qofstrftime.h : Tweak.
	* lib/libtime/qofstrptime.c : New file, based on glibc but
	extended to QOF ranges.
	* lib/libtime/qofstrptime.h : New file.

2006-05-30 Neil Williams <linux@codehelp.co.uk>

	* lib/libtime/qofgmtime.c,
	lib/libtime/qofstrftime.h,
	qof/qofdate.h,
	qof/qoftime.c,
	qof/qoftime.h : Preparing QofDate to/from QofTime routines
	and introducing leap_seconds.

2006-05-29 Neil Williams <linux@codehelp.co.uk>

	* doc/qofdatelocale.txt : Explain restrictions on
	locale-specific date format specifiers.
	* lib/libtime/qofgmtime.c : Rewrite to stop use of
	mktime.
	* lib/libtime/qofstrftime.c : Move to QofDate.
	* lib/libtime/qofstrftime.h : Documentation tweak.
	* qof/qofdate.c : Add detection of locale-specific
	formats.
	* qof/qofdate.h : Document locale-specific restrictions.
	* qof/qoftime.h : Clarify documentation.

2006-05-28 Neil Williams <linux@codehelp.co.uk>

	* qof/qofdate.c :
	* qof/qofdate.h : Add qof_date_time_difference
	Add normalising code for QofDate.
	* qof/test/test-date.c : Add more tests for when qofdate
	is ready for negative and far future dates.

2006-05-24 Neil Williams <linux@codehelp.co.uk>

	* lib/libtime/Makefile.am : New file.
	* lib/libtime/qofgmtime.c :
	* lib/libtime/qofgmtime.h : New file to handle
	QofDate <-> QofTime conversions without overflows.
	* qof/qofdate.c :
	* qof/qofdate.h : Create and free QofDate.
	* qof/qoftime.c :
	* qof/qoftime.h :
	* qof/test/Makefile.am : Plan for use of libqoftime library.
	* qof/test/test-date.c : Avoid use of time_t to allow
	testing of values that would overflow on 32bit.

	* debian/control : Tweak description of doc package.
	* qof/deprecated.c :
	* qof/deprecated.h : First replacement of Timespec with QofTime.
	* qof/qofclass.h : Deprecate QOF_TYPE_DATE in preference to
	QOF_TYPE_TIME.
	* qof/qofinstance-p.h :
	* qof/qofinstance.c :
	* qof/qofinstance.h :  First replacement of Timespec with QofTime.
	* qof/qoflog.c : Remove unneeded ifdef directive.
	* qof/qofobject.c :
	* qof/qofobject.h : gchar instead of char.

	* all files : Setting a consistent indent style:
	indent -gnu -i4 -ut -ts4 -nsc -bli0

2006-05-23 Neil Williams <linux@codehelp.co.uk>

	* Makefile.am : Distributing the website content.
	* debian/libqof-doc.install :
	* doc/Makefile.am : Making room for the website content
	alongside the Doxygen content.
	* doc/doxygen.cfg.in : Removing the search engine option.
	* doc/doxygen_main_page.c : Update reference page.
	* website/hacking.html : Advice on packaging the docs.
	* configure.in : New tests for qofstrftime
	* lib/libtime/qofstrftime.c : Remove more directives.
	* qof/qofdate.c : outline new replacement for struct tm
	* qof/qofdate.h : outline new replacement for struct tm
	* qof/qoftime.c : replacement for time_t
	* qof/qoftime.h : replacement for time_t
	* qof/test/test-date.c : New tests for when qofstrftime
	is ready.

2006-05-22 Neil Williams <linux@codehelp.co.uk>

	* configure.in : Extra tests to support customised
	strftime.
	* lib/libtime/qofstrftime.c : Include the full strftime
	in a modified form that uses 64bit extensions.
	* lib/libtime/qofstrftime.h : 64bit extension.
	* qof/qofdate.c : Notes on future plan.
	* qof/test/test-date.c : G_GINT64_CONSTANT used
	instead of strange addition format.

2006-05-21 Neil Williams <linux@codehelp.co.uk>

	* configure.in : Auto build HTML documentation
	and libqofstrftime.la.
	* Makefile.am :
	* lib/Makefile.am : Build libqofstrftime everytime.
	* lib/README : Document new extension library,
	libqofstrftime.
	* qof/Makefile.am :
	* qof/qofdate.c :
	* qof/qoftime.c : New extension library.

	* doc/Makefile.am : Build docs everytime.

	* debian/control : New doc package.
	* debian/libqof-dev.install :
	* debian/libqof1-dbg.install :
	* debian/libqof1.install : Package new extension
	library, libqofstrftime.

	* lib/libtime/.cvsignore :
	* lib/libtime/Makefile.am :
	* lib/libtime/qofstrftime.c :
	* lib/libtime/qofstrftime.h :
	* lib/libtime/strftime.c :
	* lib/libtime/strftime.h : New extension library to
	support GNU extensions and nanosecond handling.

	* NEWS :
	* README :
	* TODO : Documenting new features.

	* emdebian/changelog :
	* edmdebian/compat :
	* emdebian/control :
	* emdebian/libqof-dev.install :
	* emdebian/libqof1.install :
	* emdebian/rules :
	* emdebian/watch : Implement new features appropriate to
	emDebian.

2006-05-20 Neil Williams <linux@codehelp.co.uk>

	* qof/qofclass.h : Doxygen tweak.
	* qof/qoftime.c : Clarify a PERR message.

2006-05-17  Neil Williams <linux@codehelp.co.uk>

	* qof/qofdate.c : Fix add_days and add_months
	* qof/qofdate.h : Note remaining failures in stamp and scan.
	* qof/qoftime.c : renamed function to make it clearer.
	* qof/qoftime.h :
	* qof/test/test-date.c : More test case fixes.

2006-05-16  Neil Williams <linux@codehelp.co.uk>

	* qof/qofdate.c :
	* qof/qofdate.h :
	* qof/qoftime.c :
	* qof/qoftime.h :
	* qof/test/test-date.c : More test case fixes.

2006-05-15  Neil Williams <linux@codehelp.co.uk>

	* qof/qofbackend-p.h :
	* qof/qofbackend.h :
	* qof/qofbackend.c : Whitespace, gchar standardisation.

	* qof/qoftime.c :
	* qof/qoftime.h : Fixes from building the tests.
	* qof/test/test-date.c : Lengthen the tests. (27 now).

	* qof/test/* : Last few FSF address changes.

2006-05-14  Neil Williams <linux@codehelp.co.uk>

	* qof/qoftime-p.h : No need for deprecated code
	to have access to a private function to validate.
	Removed file.
	* qof/qofdate-p.h : returning the previous
	QofDateFormat removes the need for these functions.
	Removed file.

	* qof/qofutil.c : Bring date and time into default
	QOF startup and shutdown

2006-05-13  Neil Williams <linux@codehelp.co.uk>

	* qof/qof.h :
	* qof/qofbook-p.h :
	* qof/qofbook.c :
	* qof/qofundo.c :
	* qof/qofundo-p.h :
	* qof/qofundo.h : Incorporating QofUndo into
	QofBook. Each book has it's own undo cache.

2006-05-12  Neil Williams <linux@codehelp.co.uk>

	* qof/deprecated.c : If the date_format needs to
	be changed for deprecated functions, change it back afterwards.
	* qof/Makefile.am : add undo and don't install qoftime-p.h

2006-05-11  Neil Williams <linux@codehelp.co.uk>

	* configure.in : Use AC_GNU_SOURCE (hint from
	gnucash svn, r14002).
	* backend/file/qsf-backend.c :
	* backend/file/qsf-xml.c :
	* backend/file/qsf-xml-map.c :
	* qof/gnc-numeric.c :
	* qof/guid.c :
	* qof/kvp_frame.c :
	* qof/qofbackend.c :
	* qof/qofdate.c
	* qof/qofbookmerge.h :
	* qof/qofmath128.c :
	* qof/qofsql.c :
	* qof/qofundo.c :
	* qof/test/test-book-merge.c :
	* qof/test/test-date.c :
	* qof/test/test-event.c :
	* qof/test/test-recursive.c : Remove #define _GNU_SOURCE

2006-05-07  Neil Williams <linux@codehelp.co.uk>

	* src/qofundo.c :
	* src/qofundo.h :
	* src/qofundo-p.h : New files for QofUndo from
	CashUtil.

2006-05-07  Neil Williams <linux@codehelp.co.uk>

	* qof/qofdate.c : New file to replace gnc-date.c
	* qof/qofdate.h : New file to replace gnc-date.h
	* qof/qoftime.c : New file to replace gnc-date.c
	* qof/qoftime.h : New file to replace gnc-date.h
	* qof/deprecated.c : gnc-date.c code moved.
	* qof/deprecated.h : gnc-date.h code moved.
	* qof/qof.h : New files, remove gnc-date.h

	* backend/file/qsf-backend.c :
	* examples/test-book-merge.c :
	* qof/Makefile.am :
	* qof/kvp-util.c :
	* qof/kvp_frame.c :
	* qof/kvp_frame.h :
	* qof/qofbookmerge.c :
	* qof/qofinstance-p.h :
	* qof/qofinstance.c :
	* qof/qofinstance.h :
	* qof/qofquery.c :
	* qof/qofquerycore-p.h :
	* qof/qofquerycore.c :
	* qof/qofquerycore.h :
	* qof/qofsession.c :
	* qof/qofsql.c :
	* qof/qofutil.c :
	* qof/qofutil.h :
	* qof/test/Makefile.am :
	* qof/test/test-book-merge.c :
	* qof/test/test-date.c :
	* qof/test/test-engine-stuff.c :
	* qof/test/test-engine-stuff.h :
	* qof/test/test-event.c :
	* qof/test/test-guid.c :
	* qof/test/test-recursive.c :

	* website/index.html :

2006-05-05  Neil Williams <linux@codehelp.co.uk>

	* HACKING :
	* website/hacking.html : Updating with roadmap.
	* qof/test/Makefile.am : Removing old flags.
	Thanks to Stanislav Brabec <sbrabec@suse.cz>

2006-04-21  Neil Williams <linux@codehelp.co.uk>

	* qof/test/test-date.c : Incorporate Toshio Kuratomi's patch
	properly to fix Debian bug 364048. <toshio@tiki-lounge.com>

2006-04-17  Neil Williams <linux@codehelp.co.uk>

	* qof/test/test-date.c : Toshio's patch for 64bit tests.

2006-04-16  Neil Williams <linux@codehelp.co.uk>

	* src/backend/file/qsf-xml-map.c : Refactoring common
	code and fixing QOF_VERSION check.

2006-04-14  Neil Williams <linux@codehelp.co.uk>

	* backend/file/pilot-qsf-gncCustomer.xml :
	remove gncBillTerm - isn't possible to create from
	pilot data.
	* backend/file/qsf-backend.c :
	* backend/file/qsf-xml-map.c :
	* backend/file/qsf-xml.c :
	* backend/file/qsf-xml.h : Add control over status of
	various objects during mapping.

	* qof/test/Makefile.am : Remove unwanted include.
	* qof/qofbackend.h :
	* qof/qofsession.h : Andreas Köhler's changes to
	add an encoding QofBackendError. r13781.

2006-04-11  Neil Williams <linux@codehelp.co.uk>

	* qof-1.pc.in : Retain glib-2.0 in Requires.
	* qof/qof.h :
	* qof/deprecated.h : Retain glib.h in QOF, not
	deprecated.
	* qof/qofutil.h :
	* qof/deprecated.h : Derek Atkin's patch for a
	usable replacement for GNC_SCANF_LLD.
	* qof/qofbookmerge.c : Slightly modified version
	of Derek's patch to fix memory leaks.

2006-04-08  Neil Williams <linux@codehelp.co.uk>

	* configure.in :
	* qof/qofutil.h :
	* qof/qofutil.c : Use strcasestr where available.

2006-04-07  Neil Williams <linux@codehelp.co.uk>

	* qof/deprecated.c : Replace gnc_strpcpy.
	* qof/qofbook-p.h :
	* qof/deprecated.h : Deprecate
	qof_book_set_schedxactions which has no
	declaration.
	* qof/qofutil.c :
	* qof/qofbackend.c : Move the function
	versions of the begin_edit and commit_edit
	routines to the Utilities file alongside
	the macro versions from qof-be-utils.h
	* qof/qofbackend.h : Replace Doxygen fix.
	* qof/qoflog.c : Add Utilities to the default
	log_module list.

2006-04-02  Neil Williams <linux@codehelp.co.uk>

	* backend/file/qof-backend-qsf.h :
	* backend/file/qsf-backend.c :
	* backend/file/qsf-xml.h : add encoding backend
	option

	* qof/Makefile.am :
	* qof/qof.h : remove qof-be-utils.h

2006-03-28  Neil Williams <linux@codehelp.co.uk>

	* doc/gnc-numeric-example.txt : Move example
	to a doc file.
	* deprecated.h : Deprecate the expression of
	glib.h in the QOF API. libqof2 applications
	will have to include glib.h directly. Prevents
	a redundant dependency in qof packages.

2006-03-26  Neil Williams <linux@codehelp.co.uk>

	* configure.in :
	* qof-1.pc.in : allowing qof_sql to be linked
	where libgda is not available.

	* debian/control : Make libqof-dev depend on
	libgda2-dev. (Vorlon. Prevent QOF applications
	having to depend on libgda2-* unnecessarily.)
	* qof-1.pc.in : Use private pkg-config variables
	to hide libraries that only QOF needs.

	* qof/qofsql.c : Allow INSERT queries to be logged.
	* backend/file/qsf-xml.h : use gint64 to match internal kvp value.
	* backend/file/qsf-backend.c : using gint64 so don't use the
	32bit glib macros, GINT_TO_POINTER and GPOINTER_TO_INT.
	* qof/qofbackend.c : Set the option using the default KvpValue,
	then manipulate the option and store the value back into the
	KvpValue and backend configuration KvpFrame.

	* qof/test/test-querynew.c :

2006-03-13  Neil Williams <linux@codehelp.co.uk>

	* configure.in : Check for sys/times.h and langinfo.h
	* backend/file/pilot-qsf-gncCustomer.xml : add reverse mapping
	* backend/file/qsf-xml.h : Standardise on gint and gchar.
	Support iteration over incoming QSF objects inside map operations.
	Remove gnucash-specific gettext defines.
	* backend/file/qsf-backend.c : Standardise on gint and gchar.
	Skip unregistered objects when processing maps.
	* backend/file/qsf-xml.c : Standardise on gint and gchar.
	* backend/file/qsf-xml-map.c : Standardise on gint and gchar.
	Correct map handling to allow reverse operations and iteration
	over hierarchical objects. Improving debug messages and preventing
	a crash when loading a map directly.
	* backend/file/Makefile.am : add new map file.
	* backend/file/qsf-map.xsd.xml : allow for iteration of hierarchical
	objects
	* qof/gnc-date.c : Hook langinfo.h check into legacy gnucash macro.

2006-03-09  Neil Williams <linux@codehelp.co.uk>

	* qof/deprecated.h :
	* qof/deprecated.c : Allow users to skip
	deprecated code in libqof1.
	* qof/qofevent.c :
	* qof/qofevent-p.h : Wrap old event handler
	code to allow deprecated code to be skipped.

2006-03-09  Neil Williams <linux@codehelp.co.uk>

	* qof/guid.c : Christian Stimming's patch for
	easier mingw32 builds. gnucash r13525.

	* qof/qofbackend-p.h :
	* qof/gnc-engine-util.h :
	* qof/kvp-util.h :
	* qof/kvp-util-p.h : David Hampton's patch to
	remove use of config.h in a header. gnucash r13549.

	* qof/backend/file/qsf-xml-map.c :
	* qof/backend/file/qsf-xml.c :
	* qof/qofchoice.c :
	* qof/qofgobj.c :
	* qof/qofinstance.c :
	* qof/qofreference.c : David Hampton's patch to
	keep config.h in C files only. gnucash r13549.

	* qof/qofquery.c :
	* qof/qofsession.c :
	* qof/qoflog.h : Don't use deprecated code in our
	own library.

	* qof/qof_book_merge.h :
	* qof/qof_book_merge.c : Deprecated to resolve file
	naming and function naming conflicts.
	* qof/qof.h :
	* qof/qofbookmerge.c :
	* qof/qofbookmerge.c : New file, new function names.
	* qof/deprecated.h :
	* qof/deprecated.c : Move old functions to deprecated.
	* qof/test/test-book-merge.c : Use new function names.

	* qof/qofevent.h :
	* qof/qofevent.c : Derek Atkin's patch to
	fix the definition of QOF_EVENT_BASE; use
	QOF_EVENT__LAST for tests. gnucash r13546. Doxygen
	tweak.

	* backend/file/qsf-backend.c : Remove deprecated
	glib function g_strncasecmp in favour of g_ascii_strncasecmp

	* qof/qofquery-deserial.c : Update status; this
	file will not exist in libqof2.

2006-02-26  Neil Williams <linux@codehelp.co.uk>

	* qof/qof-be-utils.h : Replace macro to restore
	programme flow.
	* qof/qofevent.c :
	* qof/qofevent.h : Outline method to make application
	events easier to use.
	* qof/Makefile.am :
	* qof-1.pc.in : Fedora fixes from Toshio Kuratomi
	<toshio@tiki-lounge.com>

2006-02-25  Neil Williams <linux@codehelp.co.uk>

	* qof/qof-be-utils.h :
	* qof/qofbackend.c : Add function version of
	QOF_COMMIT_EDIT_PART2
	* qof/deprecated.c : Define deprecated event functions
	that call new QofEvents with a NULL event_data argument.
	* qof/qofbook.c : Use new qof_event arguments.
	* qof/qofevent.c : Allow events to be generated with an
	optional event_data argument.
	* qof/qofevent.h : Doxygen tweaks.
	* qof/guid.c : Gnucash r13391 - Keep track of exactly how
	many bytes have been sent to md5_process_bytes().
	* qof/qofid.c : Gnucash r13351 - Mark the QofCollection
	as dirty when a new QofEntity is added or removed.

2006-02-20  Neil Williams <linux@codehelp.co.uk>

	* qof/gnc-event.c :
	* qof/gnc-event-p.h :
	* qof/gnc-event.h : Removed files.

	* qof/qofevent.c :
	* qof/qofevent-p.h :
	* qof/qofevent.h : Replacement files using extensible
	event identifiers.

	* qof/deprecated.c : Old functions now pointed to
	replacements.
	* qof/deprecated.h : Old defines now pointed to
	replacements.
	* qof/deprecated-p.h : gnc-event-p.h deprecated
	function declaration.

	* qof/qof.h : Replace files.
	* qof/Makefile.am : Replace files.

2006-02-19  Neil Williams <linux@codehelp.co.uk>

	* backend/file/qsf-backend.c : Correcting collect handling,
	prevent duplication.
	* qof/qof.h : Create reference group in doxygen and
	export qofreference.h into the API.
	* qof/qof/qofsession.c : Set QOF_TYPE_COLLECT as registered
	type and move qof_entity_get_reference_from to new file.
	* qof/qof/qofsession.h : Move qof_entity_get_reference_from
	to new file: qofreference.c|h.
	* qof/qofreference.c : New file to handle reference related
	code.
	* qof/qofreference.h : New public header.
	* qof/test/test-recursive.c : Fix collect recursive tests

2006-02-12  Neil Williams <linux@codehelp.co.uk>

	* qof/qofbackend.h : Add error value for files that
	cannot be opened. ERR_FILEIO_READ_ERROR.
	* backend/file/qsf-backend.c : Check that files can be opened before
	trying to work out their type. Use new QofBackendError value
	if open to read fails.
	* qof/gnc-event.c : Derek Atkin's patch for better handling of event
	removal.  This allows us to actually clean up, but also makes sure we
	don't destroy the handler list out from under us as we're processing events.
	* qof/test/Makefile.am : adding new events test.
	* qof/test/test-events.c : New file: First set of tests, more needed.
	* qof/test/test-recursive.c : Beginning fix of QOF_TYPE_COLLECT
	recursive copying. More to be done.
	* qof/test/test-stuff.c : Ensuring get_random_double
	returns at least some decimal places more often than not.

2006-02-05  Neil Williams <linux@codehelp.co.uk>

	* qof/deprecated.c :
	* qof/deprecated.h :
	* qof/qoflog.c :
	* qof/qoflog.h : Deprecating qof_log_set_level_global due to
	misleading name

2006-02-05  Neil Williams <linux@codehelp.co.uk>

	* qof/gnc-numeric.c : Derek's fixes for reciprocal
	numeric handling. Derek Atkins <warlord@mit.edu>
	* qof/test/test-numeric.c : Derek's test for the
	fixed reciprocal handling. Derek Atkins <warlord@mit.edu>

2006-02-01  Neil Williams <linux@codehelp.co.uk>

	* qof/test/Makefile.am :
	* qof/test/test-book-merge.c : adding some
	randomness to the test
	* qof/test/test-recursive.c : New test to
	identify and then fix problems in
	qof_entity_copy_coll_r

2006-01-23  Neil Williams <linux@codehelp.co.uk>

	* qof/qof_book_merge.h : Use gchar consistently
	instead of mixing with char.
	* qof/qof_book_merge.c : Fix merge handling of
	QOF_TYPE_CHAR to use gchar instead of casting
	from a gchar*
	* qof/test/test-book-merge.c : Add test case
	to make sure QOF_TYPE_CHAR handling is working.

2006-01-22  Neil Williams <linux@codehelp.co.uk>

	* backend/file/qsf-backend.c : Prevent bad time
	values from being passed to entity.
	* qof/gnc-engine-util.c|h : Add CACHE_REPLACE(dst, src)
	macro for common case in string setters.
	Chris Shoemaker <chris@cvs.gnucash.org>
	gnucash r12319.
	* website/index.html : Update for new package
	locations.
	* po/sv.po : New Swedish translation.
	* po/vi.po : New Vietnamese translation.
	* configure.in : Support new translations.

2006-01-08  Neil Williams <linux@codehelp.co.uk>

	* qof/qofid.c : Fix logical bug that prevented collection
	data being set.
	* qof/gnc-numeric.c : gnucash sync.

2006-01-03  Neil Williams <linux@codehelp.co.uk>

	* Makefile.am : Add HACKING to dist.
	* backend/file/pilot-qsf-GnuCashInvoice.xml :
	update objects - the file may still be removed in a
	future release.
	* backend/file/qsf-backend.c : remove uneven
	debug call
	* backend/file/qsf-xml-map.c : improve debug handling
	* fink/qof1.info : Update library SONAMES for packaging.
	* qof/qofbackend.c :
	* qof/qof.h : Finalise module loading. Downgrade the reliance
	on the .la files for backends.
	* rpm/qof1.spec : Missed some symlinks.

2006-01-01  Neil Williams <linux@codehelp.co.uk>

	* qof/qofobject.c :
	* qof/qofobject-p.h : New function to check full
	compliance of an object once instead of failing
	repeatedly.
	* qof/qofsession.c : Check we can create an object
	before attempting.

2005-12-29  Neil Williams <linux@codehelp.co.uk>

	Typo in FSF address corrected.
	* various :

	* qof/guid.c : Support glib 2.9.0 improvement

2005-12-29  Neil Williams <linux@codehelp.co.uk>

	* qof/deprecated.c : New file to preserve deprecated function
	names into the binary for compatibility until libqof2.
	* qof/Makefile.am : New file compiled into libqof1.

	Changes to use qof.h
	* backend/file/qsf-backend.c :
	* backend/file/qsf-xml-map.c :
	* backend/file/qsf-xml.c :
	* qof/deprecated.h :
	* qof/gnc-event.c :
	* qof/guid.c :
	* qof/kvp_frame.c :
	* qof/qof_book_merge.c :
	* qof/qofbackend.c :
	* qof/qofbook.c :
	* qof/qofclass.c :
	* qof/qofid.c :
	* qof/qofinstance.c :
	* qof/qofobject.c :
	* qof/qofquery.c :
	* qof/qofquerycore.c :
	* qof/qofsession.c :
	* qof/qofsql.c :

2005-12-28  Neil Williams <linux@codehelp.co.uk>

	* qof/qofbackend.c : Allow partial paths to make
	full use of GModule and the lack of a .la file
	non-critical.
	* autogen.sh : Adopt a more streamlined script.

2005-12-18  Neil Williams <linux@codehelp.co.uk>

	* configure.in : Adding extra compiler warnings.
	* qof/gnc-engine-util.h : Deprecating HAVE_SCANF_LLD

2005-12-14  Neil Williams <linux@codehelp.co.uk>

	* backend/file/qof-backend-qsf.h : v0.2 of QSF,
	including a	new QofBackendOption, QSF_MAP_FILES.
	* backend/file/qsf-xml.h : Private header,
	converted more functions to static.
	* backend/file/qsf-backend.c : Reorganise to
	use more static functions.
	* backend/file/qsf-xml.c : Remove redundant
	(private) functions.

	* configure.in : Bump source version to 0.6.1,
	libqof1 library version to 1.2.0 and qsf library
	version to 0.1.0.

2005-12-07  Neil Williams <linux@codehelp.co.uk>

	New functions to add days or months to a
	Timespec. Deprecating date_add_months.
	* qof/gnc-date.c :
	* qof/gnc-date.h :

2005-12-06  Neil Williams <linux@codehelp.co.uk>

	* QOF_MANIFEST_ENG :
	* QOF_MANIFEST_QSF : removed.

	* qof/qof_book_merge.c : detailing todo for param_as_string
	* qof/qofquery.c :
	* qof/qofquery.h : Deprecate qof_query_print in favour of
	log system
	* qof/kvp_frame.c : Adding support for timespec and
	correcting frame handler
	* qof/qofsession.c : KVP does not need a set routine to be copied.

	* backend/file/qsf-backend.c : Removing duplicate code, fixing
	timespec handling and kvp frame	handling.
	* backend/file/qsf-xml.h : Correcting KVP path write-out in QSF.

2005-12-04  Neil Williams <linux@codehelp.co.uk>

	* qof/qofquery.c : Do not ignore the return value of GList
	functions.  This is likely to become a warning in a future
	version of glib. (David Hampton, <hampton@employees.org>).

2005-11-29  Neil Williams <linux@codehelp.co.uk>

	* configure.in : Remove examples from build and dist.
	* Makefile.am : Remove examples from build and dist.
	* qof/Makefile.am : Replace gnc-trace with qoflog
	and add deprecated.h
	* qof/qof-be-utils.h : Tidy up macros.
	* qof/qof.h : Add deprecated.h and qoflog.h, remove
	gnc-trace.h
	* qof/qofclass.c : Reorganise private and public functions
	to make the API clearer.
	* qof/qofid.c : Rationalise the hash_table index, optimise
	some error checks. GnuCash sync.
	* qof/qoflog.c : New file, replaces gnc-trace.c - new function
	names to fit convention and new enum names. Removing
	gnc_trace_num_spaces in favour of a simpler function call.
	* qof/qoflog.h : New file, replaces gnc-trace.h
	* qof/qofquery.c : Reviewing qof_query_print to be able to
	output it via qoflog.
	* qof/qofsession.c : Avoid (gboolean*), use GINT_TO_POINTER
	instead.
	* qof/qofsql.c : Fix INSERT SQL handling.
	* website/hacking.html : New file.
	* website/index.html : Updated to not link to pre1.

2005-11-29  Neil Williams <linux@codehelp.co.uk>

	* doc/Makefile.am : Fix website symlink -
	thanks to Toshio Kuratomi.

2005-11-17  Neil Williams <linux@codehelp.co.uk>

	* qof/qofsql.c : Fix insert bug.
	* all source files : Update FSF address.

2005-11-13  Neil Williams <linux@codehelp.co.uk>

	 * qof/Makefile.am : Stop bringing in the top
	 include dir - thanks to Koen Kooi <koen@handhelds.org>
	 * qof/gnc-engine-util.h : Fix non-typedef enum_as_string
	 macro definition and document use of statics.

2005-10-23  Neil Williams <linux@codehelp.co.uk>

	* debian/changelog : New upstream release.
	* debian/libqof1.install : Ensure XML schemas and new
	gettext translation is installed with libqof1.
	* qof/gnc-date.c : Fix date string conversion to work
	on broken mktime implementations.
	* qof/gnc-date.h : Deprecate gnc_date_my_last_mday
	* qof/test/test-date.c : Add more special case tests.
	* rpm/qof1.spec : Add translation to sample RPM spec
	file.
	* website/index.html : Release update.

2005-10-21  Neil Williams <linux@codehelp.co.uk>

	* qof/gnc-date.h : Deprecating qof_date_format_get_format
	* qof/gnc-trace.h : Doxygen tweak.
	* qof/guid.c : GnuCash sync.
	* ./qof/qofquery-deserial.c : Tweak - just in case someone
	tries to build it.

2005-10-21  Neil Williams <linux@codehelp.co.uk>

	* HACKING : Advice on how building / hacking
	QOF 0.6.0 differs from previous versions,
	including new requirements for packaging
	and new methods of providing CFLAGS and LIBS
	data via pkg-config.
	* NEWS : Tweak for 0.6.0
	* QOF_MANIFEST_ENG : Tweak.
	* README : Detailing future changes in QOF and
	adding a pointer to new information in HACKING.
	* backend/README : Future plans.
	* backend/file/qof-backend-qsf.h : Trace fix.
	* backend/file/qsf-backend.c : New log method and
	tidy up initialisation of the params context.
	* backend/file/qsf-xml-map.c : Trace fix.
	* backend/file/qsf-xml.c : Removing double free.
	* configure.in : Move to 0.6.0 final.
	* debian/control : Fix override conflict.
	* doc/doxygen_main_page.c : Warn of future changes
	and new methods.
	* examples/test-qsf.c : tweak.
	* qof/Makefile.am : Temporarily make two private
	headers public.
	* qof/gnc-date.c : Deprecating qof_date_format_get_format
	and gnc_timet_get_day_start_gdate.
	* qof/gnc-date.h : Doxygen tweaks.
	* qof/gnc-engine-util.c : GnuCash sync, cache improvements.
	* qof/gnc-engine-util.h : New cache methods. Deprecating
	the SAFE_STRCMP_REAL and SAFE_STRCASECMP macros in favour
	of the function versions.
	* qof/gnc-event-p.h : Deprecating gnc_engine_generate_event
	* qof/gnc-event.c : Doxygen tweak and trace fix.
	* qof/gnc-event.h :  tweak.
	* qof/gnc-numeric.c : Doxygen fix.
	* qof/gnc-numeric.h : Typos.
	* qof/gnc-trace.c : New trace / log methods.
	* qof/gnc-trace.h : Using enum_as_string macros for logging.
	* qof/guid.c : Doxygen tweak.
	* qof/kvp-util.h : This is a QOF file, not GnuCash file.
	* qof/kvp_frame.c : Cache and logging fix.
	* qof/kvp_frame.h : Deprecating kvp_frame in favour of KvpFrame,
	kvp_value in favour of KvpValue and kvp_value_t in favour of
	KvpValueType.
	* qof/qof-be-utils.h  : qof_begin_edit and qof_commit_edit fix.
	* qof/qof.h : Fixing the major header, making it the only header file
	required to be included to use QOF. Using individual header files in
	applications linked against QOF is now deprecated.
	* qof/qof_book_merge.c : Logging fix.
	* qof/qof_book_merge.h : Fix GNU_SOURCE error.
	* qof/qofbackend-p.h : Deprecating be->price_lookup and be->export.
	Add new functions to remove need for qofbook-p.h private header.
	* qof/qofbackend.c : qof_begin_edit and qof_commit_edit fix.
	* qof/qofbook-p.h : Doxygen fix.
	* qof/qofbook.c : Typos, new functions from qofbackend-p.h and
	cache improvements.
	* qof/qofbook.h : Doxygen fix.
	* qof/qofclass-p.h : Doxygen fix.
	* qof/qofclass.c : Typos and logging fix.
	* qof/qofclass.h : Typos.
	* qof/qofgobj.c : Logging fix.
	* qof/qofid-p.h : Typos.
	* qof/qofid.c : Logging fix and cache improvement.
	* qof/qofid.h : Doxygen fix.
	* qof/qofinstance-p.h : Doxygen fixes.
	* qof/qofinstance.c : Logging fix.
	* qof/qofla-dir.h.in : Directory fix.
	* qof/qofobject.c : Logging fix.
	* qof/qofquery-deserial.c : Denoting removal from main library.
	* qof/qofquery-deserial.h :
	* qof/qofquery-serialize.c :
	* qof/qofquery-serialize.h :
	* qof/qofquery.c : Logging fix and balancing log calls.
	* qof/qofquery.h : Doxygen fix.
	* qof/qofquerycore.c : Logging fix.
	* qof/qofquerycore.h : Typos.
	* qof/qofsession.c : Removing GnuCash code.
	* qof/qofsession.h : Removing GnuCash comments from Doxygen.
	* qof/qofsql.c : Logging fix.
	* qof/qofsql.h : Denoting use of libgda.
	* qof/test/test-date.c : Highlight issue with Mac OSX
	* qof/test/test-object.c : Use main QOF header.
	* qof/test/test-querynew.c : Use main QOF header.
	* website/index.html : Document additions to HACKING on
	the website.

2005-10-11  Neil Williams <linux@codehelp.co.uk>

	* configure.in: Build qofla-dir.h from
	make to put into qof.h Bump version to
	full 0.6.0 release.
	* qof/Makefile.am: Remove old build rules.
	* qof/qofsession.c: Remove unused code.
	* qof/qofbackend.c: Remove unused code.

2005-09-27  Neil Williams <linux@codehelp.co.uk>

	* backend/file/qof-backend-qsf.h: Unneeded wrapper.
	* backend/file/qsf-backend.c: New log_module support.
	* backend/file/qsf-xml.c: QOF_MOD_QSF
	* qof/gnc-date.c: QOF_MOD_ENGINE
	* qof/gnc-event.c: QOF_MOD_ENGINE
	* qof/gnc-trace.c: Removing enum based module selection,
	replacing with GHashTable method to support non-GnuCash usage.
	* qof/gnc-trace.h: Documenting new log functions.
	* qof/guid.c: QOF_MOD_ENGINE
	* qof/kvp_frame.c: QOF_MOD_KVP
	* qof/kvp_frame.h: QOF_MOD_KVP
	* qof/qof.h: adding gnc-trace.h
	* qof/qof_book_merge.c: New log_module support.
	* qof/qof_book_merge.h: QOF_MOD_MERGE
	* qof/qofbackend.c: QOF_MOD_BACKEND
	* qof/qofbackend.h: new log_module support
	* qof/qofbook.c: QOF_MOD_ENGINE
	* qof/qofclass.c: QOF_MOD_CLASS
	* qof/qofclass.h: new log_module support
	* qof/qofgobj.c: QOF_MOD_QUERY
	* qof/qofid.c: QOF_MOD_ENGINE
	* qof/qofinstance.c: QOF_MOD_ENGINE
	* qof/qofobject.c: QOF_MOD_OBJECT
	* qof/qofobject.h: new log_module support.
	* qof/qofquery.c: QOF_MOD_QUERY
	* qof/qofquery.h: new log_module support.
	* qof/qofquerycore.c: QOF_MOD_QUERY
	* qof/qofsession.c: QOF_MOD_SESSION
	* qof/qofsession.h: new log_module support.
	* qof/qofsql.c: QOF_MOD_QUERY

2005-09-11  Neil Williams <linux@codehelp.co.uk>

	* configure.in: libtool fix and wrong bracketing fix.
	* qof-1.pc.in: Syntax fix.
	* backend/Makefile.am: Moving Werror to prevent
	FC3 raising a warning.
	* backend/file/Makefile.am: Werror
	* examples/Makefile.am: Werror
	* examples/backend/Makefile.am: Werror
	* examples/gobject/Makefile.am: Werror
	* qof/Makefile.am: Werror
	* qof/test/Makefile.am: Werror
	* qof/test/test-object.c: Remove libguile
	* qof/test/test-querynew.c: Remove libguile

2005-09-02  Neil Williams <linux@codehelp.co.uk>

	* .cvsignore: gettext support
	* Makefile.am: make distcheck fix and gettext support.
	* QOF_MANIFEST_QSF: New file.
	* backend/Makefile.am: Where to install the backend config
	XML file.
	* backend/backend-schema.xsd.xml: Revised schema.
	* backend/file/.cvsignore: new file.
	* backend/file/Makefile.am: gettext support
	* backend/file/qsf-backend-v0.1.xml: QSF backend config
	* backend/file/qsf-backend.c: QOF backend config handlers
	and gettext support.
	* backend/file/qsf-xml.h: gettext defines.
	* configure.in: intltoolize and gettext parameters.
	* make-potfiles.in: new file.
	* po/.cvsignore: new file.
	* po/ChangeLog: translation support.
	* po/Makevars: new file.
	* po/POTFILES.in: gettext support.
	* qof/gnc-date.c: Fix GnuCash bug #170444
	* qof/qofbackend-p.h: Distinguish two providers with same access
	method - check_data_type
	* qof/qofbackend.c: check type now in QofBackendProvider, not
	in the QofBackend.
	* qof/qofbackend.h: Documenting the XML config handler.
	* qof/qofsession.c: check_data_type, doxygen and gnucash fix.
	* qof/qofsession.h: check_data_type

2005-08-29  Neil Williams <linux@codehelp.co.uk>

	* backend/file/qsf-xml.h: Doxygen tweaks.
	* qof/gnc-event.h: Adding to Doxygen output.
	* qof/guid.h: Doxygen correction.
	* qof/qof-be-utils.h: Doxygen correction.
	* qof/qof.h: Doxygen handling and making the
	library directory public.
	* qof/qof_book_merge.h: Doxygen correction.
	* qof/qofbackend.c: New backend library load
	function, using .la files for portability.
	* qof/qofbackend.h: qof_load_backend_library.
	* qof/qofchoice.h: Tweak.
	* qof/qofid.h: Doxygen correction.
	* qof/qofla-dir.h.in: Licence correction.
	* qof/qofquery-deserial.h: Removing from doxygen.
	* qof/qofquery-serialize.h: Removing from doxygen.
	* qof/qofsession.c: Deprecating current_session and
	using new backend load calls.
	* qof/qofsession.h: Doxygen correction.

2005-08-12  Neil Williams <linux@codehelp.co.uk>

	* qof/qofinstance.c: Improved dirty entity handling.

2005-08-12  Neil Williams <linux@codehelp.co.uk>

	* backend/file/qsf-backend.c: Cast fixes
	* backend/file/qsf-object.xsd.xml: QOF_TYPE_CHOICE attribute
	* backend/file/qsf-xml-map.c: Cast changes.
	* backend/file/qsf-xml.c: Casts
	* configure.in: Tweak to library version
	* qof/gnc-date.c: tweak
	* qof/gnc-date.h: Remove todo marker
	* qof/qofbook-p.h: Move qof_book_mark_saved.
	* qof/qofbook.h: Making qof_book_mark_saved public.
	* qof/qofquery.h: Adding choice
	* qof/qofquerycore-p.h: Choice
	* qof/qofquerycore.c: Choice queries
	* qof/qofquerycore.h: Choice predicate definition.
	* qof/test/test-book-merge.c: Removing Guile.
	* qof/test/test-engine-stuff.c: small cast change.

2005-07-24  Neil Williams <linux@codehelp.co.uk>

	* backend/file/pilot-qsf-GnuCashInvoice.xml: Using real
	pilot-link data.
	* backend/file/qsf-backend.c: Removing debug code, loading
	maps alongside objects, QOF_TYPE_CHOICE.
	* backend/file/qsf-object.xsd.xml: QOF_TYPE_CHOICE
	* backend/file/qsf-xml-map.c: Loading maps alonside objects.
	Outline of conversion loader.
	* backend/file/qsf-xml.c: Accurately reporting map
	validation counts.
	* backend/file/qsf-xml.h: Doxygen.
	* configure.in: Support for STRUCT_TM_GMTOFF check.
	* qof/gnc-numeric.h: Doxygen fixes.
	* qof/qof_book_merge.c: Removing unused header.
	* qof/qof_book_merge.h:
	* qof/qofbackend-p.h:
	* qof/qofbackend.h: Don't need the private header here.
	* qof/qofinstance.c: Change in API to make collection
	dirty when instance is dirty. API to handle do_free.
	* qof/qofinstance.h: Doxygen
	* qof/qofsession.c: Fixing qof_entity_copy_list after
	tests under CashUtil.
	* qof/test/test-date.c: Mac OSX fix.

2005-07-18  Neil Williams <linux@codehelp.co.uk>

	* backend/file/qof-backend-qsf.h: tweak
	* backend/file/qsf-backend.c: Using editlevels
	* backend/file/qsf-xml.h: New types added to doxygen.
	* qof/gnc-engine-util.h: Correcting build to use known
	config instead of guessing.
	* qof/qof-be-utils.h: Macros as functions for use when
	the call must not call return.
	* qof/qofbackend.c: Macros as functions.
	* qof/qofchoice.c: Fixing hash table lookup.
	* qof/qofchoice.h: Check choice selections.
	* qof/qofsession.c: Using editlevels.
	* qof/qofsql.c: Fixing warnings.

2005-07-05  Neil Williams <linux@codehelp.co.uk>

	* .cvsignore: ignore dist tarball
	* backend/file/qsf-backend.c: QOF_TYPE_CHOICE,
	QOF_TYPE_COLLECT reference handling. Correcting
	casts (gcc 4).
	* backend/file/qsf-xml-map.c:
	* backend/file/qsf-xml.c: Correcting
	casts (gcc 4).
	* configure.in: Removing INTLTOOL - no
	translatable text in the library.
	* doc/Makefile.am: Tweak.
	* doc/doxygen.cfg.in: Tweak.
	* examples/backend/my-instance.c:
	* examples/gobject/gobj-example.c:
	* examples/query-example.c:
	* examples/sql-example.c:
	* examples/test-book-merge.c:
	* examples/test-qsf.c: Correcting
	casts (gcc 4).
	* qof/Makefile.am: Test case support.
	* qof/gnc-engine-util.h: Fixing macro.
	* qof/gnc-trace.h: Typo.
	* qof/guid.c: GnuCash changes and correcting
	casts (gcc 4).
	* qof/guid.h: GnuCash sync.
	* qof/qof-be-utils.h: New functions to allow
	macros to be used from the library.
	* qof/qof.h: QOF_TYPE_CHOICE
	* qof/qof_book_merge.c: QOF_TYPE_CHOICE
	* qof/qofbackend.c: New functions for qof-be-utils.h
	macros.
	* qof/qofbackend.h: Docs for new functions.
	* qof/qofbook.h: Moving functions to get macros to
	work.
	* qof/qofchoice.c: QOF_TYPE_CHOICE
	* qof/qofchoice.h: QOF_TYPE_CHOICE
	* qof/qofclass.c: downgrading error reporting.
	* qof/qofgobj.c: Correcting
	casts (gcc 4).
	* qof/qofid.h: QOF_TYPE_CHOICE
	* qof/qofobject.h: QOF_TYPE_CHOICE
	* qof/qofquery.c: typo.
	* qof/qofquerycore-p.h: QOF_TYPE_COLLECT
	* qof/qofquerycore.c: QOF_TYPE_COLLECT
	* qof/qofquerycore.h: QOF_TYPE_COLLECT
	* qof/qofsession.c: Using a genuine QofParam.
	* qof/qofsession.h: QOF_TYPE_CHOICE
	* qof/qofsql.c: remove cm_setter
	* qof/test/.cvsignore:
	* qof/test/Makefile.am: New test cases
	* qof/test/test-book-merge.c:
	* qof/test/test-date.c:
	* qof/test/test-engine-stuff.c:
	* qof/test/test-engine-stuff.h:
	* qof/test/test-guid.c:
	* qof/test/test-numeric.c:
	* qof/test/test-object.c:
	* qof/test/test-querynew.c:
	* qof/test/test-stuff.c:
	* qof/test/test-stuff.h:

2005-07-05  Neil Williams <linux@codehelp.co.uk>

	* backend/file/qsf-backend.c: Tweak.
	* configure.in: Improved GLIB detection.
	* doc/Makefile.am: website link.
	* doc/doxygen_main_page.c: related page links.
	* doc/map-plan.txt: Ideas
	* qof/Makefile.am: Linking Glib properly.
	* qof/gnc-engine-util.h: New enum as string macros.
	* qof/guid.c: Sync with GnuCash.
	* qof/guid.h: Tweak documentation.
	* qof/qofbook.c: GnuCash sync.
	* qof/qofclass.h: Adding QOF_TYPE_COLLECT.
	* qof/qofid.c: Collection from a list.
	* qof/qofid.h: Count a collection.
	* qof/qofobject.h: Link to QOF-generator.
	* qof/qofquerycore.c: Remove debug code.
	* qof/qofsession-p.h: GnuCash hack.
	* qof/qofsession.c: GnuCash tweaks.

2005-06-17  Neil Williams <linux@codehelp.co.uk>

	* .cvsignore: Distribution preparation.5
	* ./ChangeLog:
	* ./Makefile.am: Removing unused config rules.
	* ./NEWS:
	* ./README:
	* ./README.cvs:
	* ./TODO: Documentation update.
	* ./autogen.sh: Removing unused m4 macro.
	* ./backend/.cvsignore:
	* ./backend/Makefile.am:
	* ./backend/dwi/Makefile.am:
	* ./backend/file/.cvsignore:
	* ./backend/file/Makefile.am: API freeze.
	* ./backend/file/qof-backend-qsf.h: Freezing the API
	* ./backend/file/qsf-backend.c: API freeze.
	* ./backend/file/qsf-object.xsd.xml: QOF_TYPE_COLLECT
	* ./backend/file/qsf-xml.h: Now a private header.
	* ./configure.in: Pre-release version increments.
	* ./doc/.cvsignore:
	* ./doc/Makefile.am:
	* ./doc/backend-api.txt:
	* ./doc/backend-errors.txt:
	* ./doc/doxygen.cfg.in:
	* ./doc/doxygen_main_page.c: Folding txt files into doxygen.
	* ./examples/Makefile.am:
	* ./examples/README:
	* ./examples/backend/Makefile.am:
	* ./examples/gobject/Makefile.am:
	* ./examples/gobject/gobj-example.c:
	* ./examples/test-qsf.c:
	* ./lib/libsql/Makefile.am:
	* ./qof-1.pc.in: New pkg-config info.
	* ./qof/.cvsignore:
	* ./qof/Makefile.am:
	* ./qof/gnc-date.h:
	* ./qof/qof_book_merge.c: API freeze.
	* ./qof/qof_book_merge.h:
	* ./qof/qofclass.h:
	* ./qof/qofsession.c: Handling .so + .dylib
	* ./website/gobj-example.c.html:
	* ./website/index.html:
	* ./website/my-obj-example.c.html:
	* ./website/qof.css:
	* ./website/why-qof.html: Website overhaul.

2005-05-08  Neil Williams <linux@codehelp.co.uk>
	* backend/file/qsf-backend.c: QOF_TYPE_COLLECT
	reference handling.
	* qof/qof_book_merge.c: Merging collections.
	* qof/qofid.c: Compiler warning fix.
	* qof/qofsession.c: recursing collections.

2005-05-07  Neil Williams <linux@codehelp.co.uk>
	* README: Documenting newest features.
	* backend/file/Makefile.am: Fixing dist build
	* backend/file/qsf-backend.c: QOF_TYPE_COLLECT
	* backend/file/qsf-object.xsd.xml: Validation typo
	* configure.in:
	* doc/Makefile.am:
	* doc/doxygen.cfg.in:
	* examples/Makefile.am:
	* examples/backend/Makefile.am:
	* examples/backend/my-app.c:
	* examples/backend/my-instance.c:
	* examples/my-object.c:
	* examples/query-example.c:
	* examples/sql-example.c:
	* examples/test-qsf.c:
	* lib/libsql/Makefile.am:
	* qof/Makefile.am: Fixing build errors.
	* qof/kvp_frame.h: Doxygen fix
	* qof/qof_book_merge.c:
	* qof/qofclass.h:
	* qof/qofid.c:
	* qof/qofid.h: QOF_TYPE_COLLECT
	* qof/qofsession.c: Recursive copying
	* qof/qofsession.h: Recursive declarations.
	* qof/qofsql.c: Fixing dist build.

2005-04-25 Neil Williams <linux@codehelp.co.uk>
	* backend/file/pilot-qsf-GnuCashInvoice.xml:
	Tweaked the map in preparation for changes in
	pilotqof.
	* backend/file/qsf-xml-map.c: planning
	* backend/file/qsf-xml.h: Documentation
	* qof/gnc-engine-util.c: GnuCash changes
	* qof/gnc-engine-util.h: enum as string
	macro improved.
	* qof/gnc-event.c:
	* qof/gnc-event.h:
	* qof/gnc-numeric.c:
	* qof/gnc-numeric.h:
	* qof/gnc-trace.c:
	* qof/gnc-trace.h:
	* qof/guid.h: GnuCash changes.
	* qof/kvp_frame.c: New names for deprecated
	functions.
	* qof/kvp_frame.h: Doxygen improvements and
	defines to replace deprecated functions.
	* qof/qof_book_merge.c: Change to unsigned
	integers.
	* qof/qofclass.c: Reference handling.
	* qof/qofclass.h: Doxygen tweak.
	* qof/qofid.h: Removing FreqSpec.
	* qof/qofquery.c:
	* qof/qofquery.h: GnuCash changes.
	* qof/qofquerycore.c: Date query handling.
	* qof/qofquerycore.h: Replacing deprecated value.
	* qof/qofsql.c: UTC date handling.
	* qof/qofsql.h: Doxygen.

2005-04-12 Neil Williams <linux@codehelp.co.uk>
	* backend/file/.cvsignore: New file.
	* backend/file/qsf-backend.c :
	Reference handling and KVP support.
	* backend/file/qsf-object.xsd.xml :
	Tightening up the validation of attributes
	and namespaces.
	* backend/file/qsf-xml.h : Documentation
	tweaks.
	* doc/Makefile.am : Correcting error in
	datadir.
	* examples/.cvsignore : Tweaked.
	* qof/Makefile.am : Building with SQL.
	* qof/gnc-date.c :
	* qof/gnc-date.h :UTC date and time
	handling added. Documentation tweaks.
	* qof/gnc-engine-util.h : ENUM as string
	support macro.
	* qof/gnc-trace.c : Using our own trace
	file instead of overwriting GnuCash.
	* qof/qof-be-utils.h :
	* qof/qof.h :Documentation and directory fixes.
	* qof/qof_book_merge.c : CHAR handling
	* qof/qof_book_merge.h : Make tweak.
	* qof/qofbackend.h : Adding QSF error code
	and documentation tweaks.
	* qof/qofclass.c : Reference handling.
	qof_class_get_referenceList()
	* qof/qofclass.h : Prototype for
	qof_class_get_referenceList().
	* qof/qofgobj.c :
	* qof/qofgobj.h : Directory tweaks.
	* qof/qofquery-deserial.c : Remove
	deprecated code.
	* qof/qofquery-deserial.h : Add warning
	about unfinished status.
	* qof/qofquery-serialize.c : Remove
	deprecated code.
	* qof/qofquery-serialize.h : Directory tweaks.
	* qof/qofquery.c : Remove deprecated code.
	* qof/qofquery.h : Typo.
	* qof/qofquerycore.c :
	* qof/qofquerycore.h : Remove deprecated code.
	* qof/qofsession.c : Reference handling.
	* qof/qofsql.c : Directory changes,
	typos, handling UTC time in queries,
	handling INSERT commands.
	* qof/qofsql.h : Documentation of INSERT,
	fixes and prototypes of insert handlers.

2005-03-21 Neil Williams <linux@codehelp.co.uk>
	* backend/file/qsf-backend.c:
	* backend/file/qsf-xml.c:
	* backend/file/qsf-xml.h:
	Reference support for partial QofBooks
	* doc/doxygen.cfg.in: Doxygen search engine.
	* qof/kvp_frame.h: typos.
	* qof/qof_book_merge.c: Reference handling
	and fixing QOF_TYPE_CHAR routines.
	* qof/qofbackend.h: Adding error code for QSF.
	* qof/qofbook.h: documentation tweaks.
	* qof/qofclass.c: Reference handling support.
	* qof/qofclass.h: Typos and reference handling.
	* qof/qofid.c: Typo.
	* qof/qofsession.c: Reference support changing
	from hashtable to list.
	* qof/qofsession.h: Reference support.

2004-05-01 Linas Vepstas <linas@linas.org>
	* Add query to XML serialization
	* Add doxygen automatic document generation

2004-04-17 Linas Vepstas <linas@linas.org>
	* Add SQL client support
	* Add gobject support
	* Modernize autogen infrastructure

2003-09-27 Linas Vepstas <linas@linas.org>
	* src/*: sync with GnuCash CVS HEAD; includes misc cleanup, a whole
	  class of new KVP functions, and and important cleanup of the trace
	  facility

2003-06-25 Linas Vepstas <linas@linas.org>
	* src/*, examples/*:  rename Gnucash files to use qof prefix
	* release version 0.2

2003-06-16 Linas Vepstas <linas@linas.org>
	* initial release of version 0.1
